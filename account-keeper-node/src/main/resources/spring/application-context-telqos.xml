<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:telqos="http://dwarfeng.com/schema/spring-telqos"
       xmlns="http://www.springframework.org/schema/beans"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://dwarfeng.com/schema/spring-telqos
        http://dwarfeng.com/schema/spring-telqos/spring-telqos.xsd">

    <telqos:config>
        <telqos:connection-setting
                port="${telqos.port}" charset="${telqos.charset}"
                whitelist-regex="${telqos.whitelist-regex}" blacklist-regex="${telqos.blacklist-regex}"/>
        <telqos:task-pool ref="executor"/>
        <telqos:command>
            <telqos:command-impl ref="shutdownCommand"/>
            <telqos:command-impl ref="dubboCommand"/>
        </telqos:command>
    </telqos:config>


    <bean name="shutdownCommand" class="com.dwarfeng.springtelqos.api.integration.springterminator.ShutdownCommand">
        <!--suppress SpringXmlModelInspection -->
        <property name="terminator" ref="terminator"/>
        <property name="restartEnabled" value="false"/>
    </bean>

    <bean name="dubboCommand" class="com.dwarfeng.springtelqos.api.integration.dubbo.DubboCommand"/>
</beans>
